#!/bin/sh

sed -i~ 's/react-hooks-easy-redux/reactive-react-redux/g' sources/deeptree-nested-useReduxState/*.json sources/deeptree-nested-useReduxState/src/*
PACKAGE_NAME=reactive-react-redux

function runOne () {
	cd sources/deeptree-nested-useReduxState
	# rm -rf node_modules
	# npm install
	npm install ${PACKAGE_NAME}@$1
	PROXYEQUAL=`jq -r .dependencies.proxyequal node_modules/${PACKAGE_NAME}/package.json | sed 's/\^//'`
	npm install proxyequal@${PROXYEQUAL}
	npm ls ${PACKAGE_NAME}
	npm ls proxyequal
	cd ../..
	BENCHMARKS=deeptree-nested-useReduxState npm run initialize
	REDUX=7.0.2 BENCHMARK_TRACE=false BENCHMARKS=deeptree-nested-useReduxState npm start
}

runOne 3.0.0
# runOne 3.0.0-alpha.1
# runOne 3.0.0-alpha.0
runOne 2.0.1
runOne 2.0.0
runOne 1.8.0
runOne 1.7.0

sed -i~ 's/reactive-react-redux/react-hooks-easy-redux/g' sources/deeptree-nested-useReduxState/*.json sources/deeptree-nested-useReduxState/src/*
PACKAGE_NAME=react-hooks-easy-redux

runOne 1.6.0
runOne 1.5.0
runOne 1.4.0
runOne 1.3.0
runOne 1.2.0
runOne 1.1.1
runOne 1.1.0
runOne 1.0.0
runOne 0.10.0
runOne 0.9.2
runOne 0.9.1
runOne 0.9.0
runOne 0.8.2
runOne 0.8.1
runOne 0.8.0
runOne 0.7.1
runOne 0.7.0
runOne 0.6.1
runOne 0.6.0
runOne 0.5.1
runOne 0.5.0
runOne 0.4.0
runOne 0.3.2
runOne 0.3.1
runOne 0.3.0
runOne 0.2.1
runOne 0.2.0
runOne 0.1.0
