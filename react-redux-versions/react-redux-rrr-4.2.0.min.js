!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.ReactRedux={},e.react)}(this,function(e,t){var r="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,n=function(e){return e+1},u=function(){return t.useReducer(n,0)[1]},c={get state(){throw new Error("Please use <Provider store={...}>")},get dispatch(){throw new Error("Please use <Provider store={...}>")},get subscribe(){throw new Error("Please use <Provider store={...}>")}},o=function(e,t){return e.dispatch!==t.dispatch||e.subscribe!==t.subscribe?1:0},i=function(e,r){return void 0===e&&(e=c),void 0===r&&(r=o),t.createContext(e,r)},a=i(),s=Symbol("OWN_KEYS"),f=function(e,t,r){if(!function(e){try{var t=Object.getPrototypeOf(e);return t===Object.prototype||t===Array.prototype}catch(e){return!1}}(e))return e;var n=r&&r.get(e);return n||((n={recordUsage:function(e){var t=this.affected.get(this.originalObj);t||(t=new Set,this.affected.set(this.originalObj,t)),t.add(e)},get:function(e,t){return this.recordUsage(t),f(e[t],this.affected,this.proxyCache)},has:function(e,t){return this.recordUsage(t),t in e},ownKeys:function(e){return this.recordUsage(s),Reflect.ownKeys(e)}}).proxy=new Proxy(function(e){return Object.isFrozen(e)?Array.isArray(e)?Array.from(e):Object.assign({},e):e}(e),n),n.originalObj=e,r&&r.set(e,n)),n.affected=t,n.proxyCache=r,n.proxy},d=function(e,t){var r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some(function(e,t){return e!==n[t]})},l=function(e,t,r,n,u){if(e===t)return!1;if("object"!=typeof e||null===e)return!0;if("object"!=typeof t||null===t)return!0;var c=r.get(e);if(!c)return!!u;if(n){var o=n.get(e);if(o&&o.nextObj===t)return o.changed;n.set(e,{nextObj:t})}for(var i=null,a=0,f=c;a<f.length;a+=1){var h=f[a],v=h===s?d(e,t):l(e[h],t[h],r,n,!1!==u);if("boolean"==typeof v&&(i=v),i)break}return null===i&&(i=!!u),n&&n.set(e,{nextObj:t,changed:i}),i},h=function(e){return"function"==typeof e},v=function(e,t){return e===t};e.Provider=function(e){var r=e.store,n=e.customContext;void 0===n&&(n=a);var c=e.children,o=u(),i=r.getState(),s=t.useRef([]);s.current.forEach(function(e){return e(i)});var f=t.useCallback(function(e){return s.current.push(e),e(r.getState()),function(){var t=s.current.indexOf(e);s.current.splice(t,1)}},[r]);return t.useEffect(function(){return r.subscribe(function(){o()})},[r,o]),t.createElement(n.Provider,{value:{state:i,dispatch:r.dispatch,subscribe:f}},c)},e.createCustomContext=i,e.useDispatch=function(e){void 0===e&&(e={});var r=e.customContext;return void 0===r&&(r=a),t.useContext(r).dispatch},e.useTrackedState=function(e){void 0===e&&(e={});var n=e.customContext;void 0===n&&(n=a);var c=u(),o=t.useContext(n),i=o.state,s=o.subscribe,d=new WeakMap,h=t.useRef(null);r(function(){h.current={state:i,affected:d,cache:new WeakMap,assumeChangedIfNotAffected:!!e.unstable_forceUpdateForStateChange||!e.unstable_ignoreIntermediateObjectUsage&&null}}),t.useEffect(function(){return s(function(e){h.current.state!==e&&l(h.current.state,e,h.current.affected,h.current.cache,h.current.assumeChangedIfNotAffected)&&c()})},[s,c]);var v=t.useRef(new WeakMap);return f(i,d,v.current)},e.useSelector=function(e,n,c){var o=c||!h(n)&&n||{},i=o.equalityFn;void 0===i&&(i=h(n)?n:v);var s=o.customContext;void 0===s&&(s=a);var f=u(),d=t.useContext(s),l=d.state,b=d.subscribe,p=e(l),y=t.useRef(null);return r(function(){y.current={equalityFn:i,selector:e,state:l,selected:p}}),t.useEffect(function(){return b(function(e){try{if(y.current.state===e||y.current.equalityFn(y.current.selected,y.current.selector(e)))return}catch(e){}f()})},[b,f]),p}});
//# sourceMappingURL=index.umd.js.map
